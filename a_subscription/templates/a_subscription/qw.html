{% extends 'layouts/blank.html' %}

{% block content %}

<div class="max-w-4xl mx-auto px-8 py-24">
    <h1 class="mb-14 text-center text-3xl font-semibold">My Subscription</h1>

    {% if subscription %}
    <div class="bg-gray-100 p-6 rounded-2xl shadow-md">
        <div class="flex items-center justify-between">
            <div>
                <div class="font-bold text-2xl">{{ subscription.product_name }}</div>
                {% if subscription.start_date %}
                    <div class="text-sm text-gray-600">Started on: {{ subscription.start_date|date:"F j, Y" }}</div>
                {% endif %}
                {% if subscription.next_billing_date %}
                    <div class="text-sm text-gray-600">Next charge date: {{ subscription.next_billing_date|date:"F j, Y" }}</div>
                {% endif %}
            </div>
            <div class="text-right">
                <div class="font-bold text-xl">${{ subscription.price }} / {{ subscription.interval }}</div>
            </div>
        </div>

        <div class="py-4 mt-4 border-t border-gray-200">
            {% if subscription.tier == 1 %}
                <div>- Access to exclusive content</div>
            {% elif subscription.tier == 2 %}
                <div>- Access to exclusive content</div>
                <div>- Pro features (Analytics, Private Chats...)</div>
            {% elif subscription.tier == 3 %}
                <div>- Access to exclusive content</div>
                <div>- Pro features (Analytics, Private Chats...)</div>
                <div>- Premium Support</div>
            {% endif %}
        </div>

        <div class="mt-6 flex gap-4">
            <a class="button text-white bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded" href="{% url 'subscription' %}">
                Switch Plan
            </a>
        </div>
    </div>

    {% else %}
    <div class="text-center">
        <p class="text-lg mb-4">You are not subscribed to any plan</p>
        <a href="{% url 'subscription' %}" class="button bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
            Choose Plan
        </a>
    </div>
    {% endif %}
</div>

{% endblock %}
